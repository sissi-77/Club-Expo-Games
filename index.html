<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>è³‡ç ”ç¤¾é§­å®¢æŒ‘æˆ°</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
body {
    font-family: 'Share Tech Mono', monospace;
    background: #050d1a url('ç¤¾åœ˜é ­åƒ.png') center top no-repeat;
    background-size: 200px;
    color: #00f5ff;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
}
h1, h2, p {
    text-align: center;
}
.container {
    max-width: 900px;
    margin: auto;
    padding: 30px;
    font-size: 20px;
}
button {
    background-color: #00f5ff;
    color: #050d1a;
    border: none;
    padding: 12px 25px;
    font-size: 20px;
    cursor: pointer;
    font-family: 'Share Tech Mono', monospace;
    margin-top: 20px;
}
button:hover {
    background-color: #00c2cc;
}
.stage {
    display: none;
    margin-top: 30px;
}
input {
    padding: 8px;
    font-size: 20px;
    margin-top: 15px;
    width: 70%;
}
a {
    color: #ff66ff;
    font-size: 22px;
}
.explanation {
    margin-top: 12px;
    color: #ff3333;
    font-size: 18px;
}
.typing {
    overflow: hidden;
    border-right: .15em solid #00f5ff;
    white-space: nowrap;
    animation: typing 3s steps(40, end), blink-caret .75s step-end infinite;
}
@keyframes typing { from { width: 0 } to { width: 100% } }
@keyframes blink-caret { from, to { border-color: transparent } 50% { border-color: #00f5ff; } }

#matrixCanvas {
    position: fixed;
    top:0; left:0;
    width:100%; height:100%;
    z-index:-1;
    background: rgba(5,13,26,0.95);
}
</style>
</head>
<body>

<canvas id="matrixCanvas"></canvas>

<div class="cover" id="cover" style="height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;">
    <h1 class="typing">CYGSH IRC è³‡ç ”ç¤¾é§­å®¢æŒ‘æˆ°</h1>
    <button onclick="startChallenge()">æº–å‚™é–‹å§‹å§ï¼</button>
</div>

<div class="container">
    <div id="stage1" class="stage">
        <p class="typing">ç¬¬ä¸€é—œï¼šè½èªªå¯†ç¢¼è—åœ¨é€™å€‹ç¶²é çš„åŸå§‹ç¢¼è£¡ï¼å¿«å»æ‰¾æ‰¾çœ‹ã€‚</p>
        <!-- å¯†ç¢¼æ˜¯: MjAyNTA4MjY= -->
        <input type="text" id="answer1" placeholder="è¼¸å…¥å¯†ç¢¼">
        <button onclick="checkAnswer(1)">æäº¤</button>
        <p class="explanation" id="exp1"></p>
    </div>

    <div id="stage2" class="stage">
        <p class="typing">ç¬¬äºŒé—œï¼šé€™æ˜¯ä¸€ä½åŒå­¸çš„å…¬é–‹å€‹äººè³‡æ–™ï¼ŒçŒœçŒœçœ‹ä»–çš„å¯†ç¢¼æ˜¯ä»€éº¼å§ï¼</p>
<pre>
Name: Vicky
Birthday: 2007-05-19
</pre>
        <input type="text" id="answer2" placeholder="è¼¸å…¥å¯†ç¢¼">
        <button onclick="checkAnswer(2)">æäº¤</button>
        <p class="explanation" id="exp2"></p>
    </div>

    <div id="stage3" class="stage">
        <p class="typing">ç¬¬ä¸‰é—œï¼šå“ªä¸€å€‹æ‰æ˜¯å®‰å…¨çš„ç¶²ç«™ï¼Ÿ</p>
        <ul>
            <li><a href="#" onclick="chooseLink(false,'å…¶å¯¦ç¶²åŸŸæ˜¯ evil.comï¼Œä¸æ˜¯çœŸçš„ bank-secure.com')">http://login.bank-secure.com.evil.com</a></li>
            <li><a href="#" onclick="chooseLink(true)">https://bank-secure.com/login</a></li>
            <li><a href="#" onclick="chooseLink(false,'ç¶²å€ bank-secure-login.com çœ‹èµ·ä¾†åƒçœŸçš„ï¼Œä½†å…¶å¯¦ä¸æ˜¯å®˜æ–¹ç¶²ç«™')">https://bank-secure-login.com.fake.org</a></li>
        </ul>
        <p class="explanation" id="exp3"></p>
    </div>

    <div id="stage4" class="stage">
        <p class="typing">ç¬¬å››é—œï¼šäºŒé€²ä½è½‰åé€²ä½ï¼ 101101 æ˜¯å¤šå°‘ï¼Ÿ</p>
        <input type="text" id="answer4" placeholder="è¼¸å…¥æ•¸å­—">
        <button onclick="checkAnswer(4)">æäº¤</button>
        <p class="explanation" id="exp4"></p>
    </div>

    <div id="stage5" class="stage">
        <p class="typing">æœ€å¾Œä¸€é—œï¼šè«‹è¼¸å…¥æˆ‘å€‘ç¤¾åœ˜çš„ IG å¸³è™Ÿ</p>
        <input type="text" id="answer5" placeholder="è¼¸å…¥å¸³è™Ÿ">
        <button onclick="checkAnswer(5)">æäº¤</button>
        <p class="explanation" id="exp5"></p>
    </div>

    <div id="final" class="stage" style="text-align:center;">
        <h2>ğŸ‰ æ­å–œç ´é—œï¼ ğŸ‰</h2>
        <p>FLAG{you_have_a_gift_to_receive}</p>
        <p>è¿½è¹¤æˆ‘å€‘ IGï¼š<strong>cygsh_irc_12</strong></p>
    </div>
</div>

<script>

function startChallenge() {
    document.getElementById("cover").style.display = "none";
    document.getElementById("stage1").style.display = "block";
}
function checkAnswer(stage) {
    let ans = document.getElementById("answer" + stage).value.trim();
    let correct = false;
    if(stage === 1 && ans === "MjAyNTA4MjY=") correct = true;
    if(stage === 2 && ans === "Vicky20070519") correct = true;
    if(stage === 4 && ans === "45") correct = true;
    if(stage === 5 && ans === "cygsh_irc_12") correct = true;

    if(correct) {
        document.getElementById("exp" + stage).textContent = getExplanation(stage);
        setTimeout(function() {
            document.getElementById("stage" + stage).style.display = "none";
            if(stage < 5) {
                document.getElementById("stage" + (stage + 1)).style.display = "block";
            } else {
                document.getElementById("final").style.display = "block";
            }
        }, 1000);
    } else {
        alert("ç­”æ¡ˆä¸æ­£ç¢ºï¼Œå†è©¦ä¸€æ¬¡ï¼");
    }
}
function chooseLink(correct, reason="") {
    if(correct) {
        document.getElementById("exp3").textContent = getExplanation(3);
        setTimeout(function() {
            document.getElementById("stage3").style.display = "none";
            document.getElementById("stage4").style.display = "block";
        }, 1000);
    } else {
        document.getElementById("exp3").textContent = "éŒ¯èª¤ï¼" + reason;
    }
}
function getExplanation(stage) {
    if(stage === 1) return "åƒè¬ä¸è¦æŠŠå¯†ç¢¼ç›´æ¥å¯«åœ¨åŸå§‹ç¢¼ä¸­ï¼";
    if(stage === 2) return "å¼±å¯†ç¢¼(åƒæ˜¯åå­—+ç”Ÿæ—¥)éå¸¸å®¹æ˜“è¢«çŒœä¸­ã€‚";
    if(stage === 3) return "è¦æª¢æŸ¥ç¶²å€çš„çœŸå¯¦ç¶²åŸŸï¼Œé¿å…è¢«é‡£é­šï¼Œå¦å‰‡ä½ åœ¨é‡£é­šè³ç«™è¼¸å…¥çš„è³‡æ–™å¯èƒ½æœƒè¢«ç«Šå–ã€‚";
    if(stage === 4) return "101101(äºŒé€²ä½) = 45(åé€²ä½)ã€‚";
    if(stage === 5) return "æ„Ÿè¬æŒ‘æˆ°ï¼æ­¡è¿åŠ å…¥è³‡ç ”ç¤¾ï¼";
    return "";
}

const canvas = document.getElementById("matrixCanvas");
const ctx = canvas.getContext("2d");
canvas.height = window.innerHeight;
canvas.width = window.innerWidth;

const letters = "01";
const fontSize = 14;
const columns = canvas.width / fontSize;
const drops = Array(Math.floor(columns)).fill(1);

function draw() {
    ctx.fillStyle = "rgba(5, 13, 26, 0.2)"; 
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = "#00ddee";
    ctx.font = fontSize + "px monospace";
    for (let i = 0; i < drops.length; i++) {
        const text = letters.charAt(Math.floor(Math.random() * letters.length));
        ctx.fillText(text, i * fontSize, drops[i] * fontSize);
        if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
            drops[i] = 0;
        }
        drops[i]++;
    }
}
setInterval(draw, 35);
</script>
</body>
</html>
